(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i={name:"App",data:function(){return{}}},o=i,l=s("2877"),c=Object(l["a"])(o,n,r,!1,null,null,null),u=c.exports,d=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap p-1 md:px-16"},[s("div",{},[t._m(0),s("div",[t._v(" "+t._s(t.errorMessage)+" ")]),s("div",{staticClass:"grid grid-cols-1 md:grid-cols-3 items-center justify-center text-center m-4"},[s("div",{staticClass:"bg-primary rounded m-4 h-full flex flex-col items-center justify-center"},[s("div",{staticClass:"text-lg"},[t._v("Start")]),s("DatePicker",{staticClass:"bg-secondary p-1",attrs:{name:"startDate","disabled-dates":t.startDisabled},on:{closed:function(e){return t.startDateChange()}},model:{value:t.dates[0],callback:function(e){t.$set(t.dates,0,e)},expression:"dates[0]"}},[s("div",{staticClass:"calender-header text-center mt-2",attrs:{slot:"beforeCalendarHeader"},slot:"beforeCalendarHeader"},[t._v(" Choose a Date ")]),s("span",{staticClass:"animated-placeholder",attrs:{slot:"afterDateInput"},slot:"afterDateInput"},[s("font-awesome-icon",{attrs:{icon:t.calendar,size:"lg"}})],1)])],1),s("div",{staticClass:"bg-primary rounded m-4 h-full flex flex-col items-center justify-center"},[s("div",{staticClass:"text-lg"},[t._v("End")]),s("DatePicker",{staticClass:"bg-secondary p-1",attrs:{name:"endDate","disabled-dates":t.endDisabled},model:{value:t.dates[1],callback:function(e){t.$set(t.dates,1,e)},expression:"dates[1]"}},[s("div",{staticClass:"calender-header text-center mt-2",attrs:{slot:"beforeCalendarHeader"},slot:"beforeCalendarHeader"},[t._v(" Choose a Date ")]),s("span",{staticClass:"animated-placeholder",attrs:{slot:"afterDateInput"},slot:"afterDateInput"},[s("font-awesome-icon",{attrs:{icon:t.calendar,size:"lg"}})],1)])],1),s("div",{staticClass:"bg-secondary rounded h-full flex items-center justify-center m-4 cursor-pointer hover:bg-primary hover:text-white",on:{click:function(e){return t.getGames()}}},[s("div",{staticClass:"text-lg"},[t._v("Search Dates")])])]),s("div",{staticClass:"text-center m-4"},[t._v(" "+t._s(t.searchMessage)+" ")]),s("GmapMap",{staticClass:"my-8",staticStyle:{width:"100%",height:"600px"},attrs:{center:t.center,zoom:6}},t._l(t.markers,(function(e,a){return s("div",{key:a},[s("GmapMarker",{attrs:{position:e.position},on:{click:function(e){return t.toggleInfo(a)}}}),t.infoContent?s("GmapInfoWindow",{attrs:{options:t.infoOptions,position:t.infoPosition,opened:t.infoOpened},on:{closeclick:function(e){t.infoOpened=!1}}},t._l(t.infoContent,(function(e,a){return s("div",{key:a,staticClass:"infoBox my-2"},[s("h4",[t._v(t._s(t.date(e.date))+" ")]),s("p",[t._v(" "+t._s(t.time(e.date)))]),s("p",[t._v(t._s(e.home)+" vs "+t._s(e.away)+" "),s("br"),t._v(t._s(e.stadium))])])})),0):t._e()],1)})),0),s("div",{staticClass:"border-secondary border-2 p-10 m-4"},[s("h3",{staticClass:"m-1 outline-text-subtitle text-center"},[t._v("fixtures")]),t._l(t.groupedFixtures,(function(e,a){return s("div",{key:a,staticClass:"my-4 text-center"},[s("div",{staticClass:"text-lg font-bold bg-primary"},[t._v(t._s(a))]),t._l(e,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"grid grid-cols-3 items-center my-2 text-xs md:text-sm"},[s("div",{},[t._v(" "+t._s(e.home)+" ")]),s("div",{},[s("div",[t._v(" "+t._s(t.time(e.date))+" ")]),s("div",[t._v(" "+t._s(e.stadium)+" ")])]),s("div",{},[t._v(" "+t._s(e.away)+" ")])]),s("hr")])}))],2)}))],2)],1)])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("div",{staticClass:"outline-text-title"},[t._v("matchplot")])])}],h=(s("fb6a"),s("bc3a")),m=s.n(h),v="https://matchplot.herokuapp.com/",g=m.a.create({baseURL:v,headers:{"Content-type":"application/json"}}),x=s("fa33"),_=s("ad3d"),b=s("c074"),y={name:"Home",components:{DatePicker:x["a"],FontAwesomeIcon:_["a"]},data:function(){return{calendar:b["a"],dates:[new Date,new Date],fixtures:[],groupedFixtures:{},locationDetails:[],searchMessage:"Enter dates to search for the location of EPL games.",errorMessage:"",markers:[],center:{lat:52.49303527953932,lng:-1.8897306243018048},infoPosition:null,infoContent:null,infoOpened:!1,infoCurrentKey:null,infoOptions:{pixelOffset:{width:0,height:-35}}}},created:function(){},computed:{startDisabled:function(){return{to:new Date}},endDisabled:function(){return{to:this.dates[0]}}},methods:{startDateChange:function(){this.dates[0].getTime()>this.dates[1].getTime()&&(this.dates[1]=this.dates[0])},getGames:function(){var t=this,e="/api/dates/?start="+this.dates[0]+"&end="+this.dates[1];g.get(e).then((function(e){t.fixtures=e.data["matches"],t.locationDetails=e.data["details"],t.searchMessage=t.fixtures.length+" fixtures found for these dates",t.groupFixtures(),t.createMarkers()})).catch((function(e){t.errorMessage=e,t.searchMessage="Error searching for games",t.markers=[],t.fixtures=[],t.locationDetails=[]}))},groupFixtures:function(){console.log(this.fixtures),this.groupedFixtures={};for(var t=0;t<this.fixtures.length;t++){var e=this.date(this.fixtures[t].date);e in this.groupedFixtures||(this.groupedFixtures[e]=[]),this.groupedFixtures[e].push(this.fixtures[t])}console.log(this.groupedFixtures)},createMarkers:function(){this.markers=[];for(var t=0;t<this.locationDetails.length;t++){var e={lat:parseFloat(this.locationDetails[t]["team_h"][0]["stadium_latitude"]),lng:parseFloat(this.locationDetails[t]["team_h"][0]["stadium_longitude"])};this.markers.push({position:e})}},toggleInfo:function(t){this.infoContent=[];try{this.infoPosition=this.markers[t].position,this.infoContent.push(this.fixtures[t]);var e=this.checkForDuplicates(this.infoPosition);if(console.log(e),e)for(var s=0;s<e.length-1;s++)this.infoContent.push(this.fixtures[e[s]]);this.infoCurrentKey==t?this.infoOpened=!this.infoOpened:(this.infoOpened=!0,this.infoCurrentKey=t)}catch(a){console.log(a),console.log(t)}},checkForDuplicates:function(t){for(var e=[],s=0;s<this.markers.length;s++)this.markers[s].position.lat==t.lat&&this.markers[s].position.lng==t.lng&&e.push(s);return e},date:function(t){var e=new Date(t),s=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear();return s},time:function(t){var e=new Date(t),s=e.toLocaleTimeString();return s.slice(0,-3)}}},C=y,D=(s("8b71"),Object(l["a"])(C,f,p,!1,null,null,null)),k=D.exports;a["a"].use(d["a"]);var w=new d["a"]({mode:"history",routes:[{path:"/",name:"Home",component:k}]}),O=(s("a766"),s("755e"));a["a"].config.productionTip=!1,a["a"].use(O,{load:{key:"AIzaSyDEMxJgoy-7ARSCBF3Y2LGlPy01eMs_dQ4"}}),new a["a"]({router:w,render:function(t){return t(u)}}).$mount("#app")},"88d7":function(t,e,s){},"8b71":function(t,e,s){"use strict";s("88d7")},a766:function(t,e,s){}});
//# sourceMappingURL=app.38c5f90d.js.map